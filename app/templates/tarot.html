<!DOCTYPE html>

<!--
  jake Liu, Cindy Liu, Veronika Duvanova, Robert Chen
  RotisserieChicken
  SoftDev
  P01
  2025-12-3
  time spent: 1.5
 -->

<html>
  <head>
    <title>TAROT CARDS</title>
    <link rel="stylesheet" href="/static/style.css">
    <script src="https://cdn.tailwindcss.com/3.4.16"></script>
    <link rel="icon" type="image/x-icon" href="../static/favicon.ico">
  </head>


  <body>

    <!--NAV BAR-->
    <div class="bg-gray-800">
      <div class="p-5 flex flex-row justify-end">
          <form action="{{ url_for('floor') }}" method="POST" class="px-2"><input type="submit" value="GAME FLOOR"
            class="font-semibold bg-transparent rounded-lg text-white hover:bg-white hover:text-gray-800 py-3 px-5 shadow-md shadow-white"></form>
          <form action="{{ url_for('profile') }}" method="POST" class="px-2"><input type="submit" value="PROFILE"
            class="font-semibold bg-transparent rounded-lg text-white hover:bg-white hover:text-gray-800 py-3 px-5 shadow-md shadow-white"></form>
          <form action="{{ url_for('logout') }}" class="px-2"><input type="submit" value="LOG OUT"
            class="font-semibold bg-transparent rounded-lg text-white hover:bg-white hover:text-gray-800 py-3 px-5 shadow-md shadow-white"></form>
       </div>
    </div>

    <h1 class="text-3xl text-center uppercase my-3 font-bold">The Tarot Terrain</h1>

    <h3 class="p-2 mx-5">How to Play: Flip over two cards at a time.
        Try to remember the location of each card and find the matching pairs.
        Explore the meaning of the card using the description on the side!</h3>
   
    {% if not game_won %}

        <!-SCREEN>
        <div class="relative flex flex-row">

            <!-CARD GRID>
            <div class="w-1/2 m-5 p-1 bg-gray-400 grid grid-cols-7">
                {% for card in deck %}
                <div class="m-1">

                    {% if card.get("matched") %}
                        <div class="h-[115px] w-[100px] bg-transparent"></div>
                    {% else %}
                        <form method="POST" action="{{ url_for('tarot') }}">
                            <button type="submit" name="card" value="{{ loop.index0 }}">
                                {% if loop.index0 in active_indices %}
                                    <div class="h-[115px] w-[100px] bg-gray-400 text-white font-bold flex items-center justify-center text-center text-sm">
                                        {{ card["name"] }}
                                    </div>
                                {% else %}
                                    <img class="h-[115px] w-[100px]"
                                        src="../static/tarot_back.png"
                                        alt="unknown tarot card">
                                {% endif %}
                            </button>
                        </form>
                    {% endif %}
                </div>
                {% endfor %}
            </div>


            <!-DESCRIPTION>
            <div class="w-1/2 inset-y-0 right-0 flex flex-col">
                <div class="flex flex-col">
                    <div class="m-5 bg-gray-400 flex flex-col items-center">        
                        <h3 class="w-full p-2 uppercase font-bold text-center bg-gray-500 text-white">{{ active_cards[0][0] }}</h3>
                        <p class="my-1 mx-5 text-left font-bold text-[12px]">MEANING:</p>
                        <p class="my-1 mx-5 text-left text-[12px]">{{ active_cards[0][1] }}</p>
                        <p class="my-1 mx-5 text-left font-bold text-[12px]">DESCRIPTION:</p>
                        <p class="my-1 mx-5 text-left text-[12px]">{{ active_cards[0][2] }}</p>
                    </div>

                    <div class="m-5 bg-gray-400 flex flex-col items-center">        
                        <h3 class="w-full p-2 uppercase font-bold text-center bg-gray-500 text-white">{{ active_cards[1][0] }}</h3>
                        <p class="m-1 mx-5 text-left font-bold text-[12px]">MEANING:</p>
                        <p class="m-1 mx-5 text-left text-[12px]">{{ active_cards[1][1] }}</p>
                        <p class="m-1 mx-5 text-left font-bold text-[12px]">DESCRIPTION:</p>
                        <p class="m-1 mx-5 text-left text-[12px]">{{ active_cards[1][2] }}</p>
                    </div>
                </div>
            </div>
        </div>
    
    {% else %}

    <div class="mx-[30%]">
        <div class="w-[500px] my-5 bg-gray-400 rounded-md">
            <form action="{{ url_for('reset_tarot') }}" method="POST" class="my-3 flex flex-col items-center">
                <h3 class="my-3 p-2 uppercase font-bold text-center bg-gray-500 rounded-lg">You've Completed the Tarot Matching Game</h3>

                <h3></h3>            
                <input class="font-semibold bg-gray-800 rounded-lg text-white hover:bg-white hover:text-gray-800 py-3 mb-5 px-5" type="submit" value="RESET">          

            </form>
        </div>
    </div>
    
    {% endif %}

  </body>
</html>
